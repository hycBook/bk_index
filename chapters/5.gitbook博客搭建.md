![img](res/other/异世界蕾姆_0.png)

---

[TOC]

---

# gitbook

> [使用 Gitbook 打造你的电子书](https://zhuanlan.zhihu.com/p/34946169)
>
> [gitbook官网](https://www.gitbook.com)

## 环境搭建

> nodejs

[官网下载](http://nodejs.cn/download/)，这里可以选择`12.16.1`版本，太新的版本后面可能会出现奇怪的问题，这是笔者使用的版本

> 执行以下命令安装gitbook命令

```cmd
npm install -g gitbook-cli
# 查看是否安装完成, 能正确显示版本号就行，这里推荐gitBook==3.2.3
gitbook -V
```



## 初始化电子书

> 初始化电子书

```cmd
gitbook init
```

这时候会生成下面两个文件`README.md`和`SUMMARY.md`

`README.md` 书籍的介绍写在这个文件里；`SUMMARY.md`书籍的目录结构在这里配置

> 安装插件

有配置book.json时，执行`gitbook install`会安装插件到node_modules目录

> 使用以下命令启动gitbook，打开[http://localhost:4000](http://localhost:4000/)就可以访问了，

```cmd
gitbook serve
```



## 重要文件

> book.json，没有的话，自己新建一个就好
>
> 用于配置插件和书籍的基本信息

```josn
{
    "title": "书籍目录",
    "author": "narutohyc",
    "description": "书籍目录，记录一些工作和学习中的笔记",
    "language": "zh-hans",
    "structure": {
        "readme": "README.md"
    },
    "links": {
        "sidebar": {
            "我の小窝~": "https://github.com/narutohyc"
        }
    },
    "plugins": [
        "-sharing",
        "splitter",
        "expandable-chapters-small",
        "anchors",
        "github",
        "github-buttons",
        "donate",
        "sharing-plus",
        "anchor-navigation-ex",
        "mathjax",
        "mermaid-gb3",
        "tbfed-pagefooter",
        "code",
        "search-plus", "-lunr", "-search",
        "lightbox",
        "theme-comscore",
        "valine",
        "pageview-count",
        "favicon-absolute",
        "copyright-v"
    ],
    "pluginsConfig": {
        "theme-default": {
            "showLevel": true
        },
        "github": {
            "url": "https://github.com/narutohyc"
        },
        "tbfed-pagefooter": {
            "copyright": "Copyright © narutohyc.com 2021",
            "modify_label": "该文件修订时间：",
            "modify_format": "YYYY-MM-DD HH:mm:ss"
        },
        "github-buttons": {
            "buttons": [{
                "user": "narutohyc",
                "repo": "bk_index",
                "type": "star",
                "size": "small",
                "count": true
                }
            ]
        },
        "donate": {
            "wechat": "https://s2.loli.net/2022/03/23/WDiTVSamQBJdEA4.png",
            "alipay": "https://s2.loli.net/2022/03/23/dEYjkaSGXwe7rnu.png",
            "title": "",
            "button": "欢迎打赏",
            "alipayText": "alipay打赏",
            "wechatText": "wechat打赏"
        },
        "sharing": {
            "douban": true,
            "facebook": true,
            "google": true,
            "hatenaBookmark": false,
            "instapaper": false,
            "line": false,
            "linkedin": false,
            "messenger": false,
            "pocket": false,
            "qq": true,
            "qzone": true,
            "stumbleupon": false,
            "twitter": true,
            "viber": false,
            "vk": false,
            "weibo": true,
            "whatsapp": false,
            "all": [
                "google", "facebook", "weibo", "twitter",
                "qq", "qzone", "linkedin", "pocket"
            ]
        },
        "anchor-navigation-ex": {
            "showLevel": false
        },
        "valine": {
            "appId": "leancloud申请的appId",
            "appKey": "leancloud申请的appKey",
            "avatar": "wavatar",
            "placeholder": "欢迎留下评论交流~",
            "pageSize": 15
        },
        "favicon-absolute":{
            "favicon": "./chapters/res/other/favicon.ico",
            "appleTouchIconPrecomposed152": "./chapters/res/other/favicon.ico"
        },
        "fontSettings": {
            "family": "msyh",
            "size": 2
        },
        "copyright-v": {
            "site": "https://hycbook.github.io/bk_python/",
            "author": "narutohyc",
            "website": "python元知识驿站",
            "image": "https://s2.loli.net/2022/03/24/pbMd1BCgUNzi7mG.png",
            "copyProtect": true,
        "enableFooter": false
        }
    }
}
```

**重要参数说明:**

* 



> .bookignore，存放不想被打包的资源

```cmd
.gitignore
.bookignore
book_default.json
_book/chapters/*.md
*.bat
*.pdf
```

> _book

使用`gitbook build`命令，会在项目的目录下生成一个 `_book` 目录，里面的内容为静态站点的资源文件

发布出来的就是这个目录下的资源

`gitbook build`只负责生成静态文件，`gitbook serve`不仅生成文件，还会启动网站服务

使用选项 `--log=debug` 和 `--debug` 来获取更好的错误消息

```cmd
gitbook build ./ --log=debug --debug
```

> SUMMARY.md，用于存放数据目录

```markdown
# Summary

* [Introduction](README.md)
* [alicloud_deployment](./chapters/1.alicloud_deployment.md)
* [reinstall_the_system](./chapters/2.reinstall_the_system.md)
* [Linux常用命令](./chapters/3.Linux常用命令.md)
* [github协作](./chapters/4.github协作.md)
* [gitbook博客搭建](./chapters/5.gitbook博客搭建.md)
```

> node_modules



## 插件篇

> Gitbook 默认带有 5 个插件：

* highlight
* search
* sharing
* font-settings
* livereload



## markdown语法

> [基本撰写和格式语法](https://docs.github.com/cn/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax)

`Markdown`是一种**轻量级**标记语言，创始人是**约翰·格鲁伯**(John Gruber)

它允许人们使用易读易写的纯文本格式编写文档，然后转换成有效的 HTML 文档

推荐配合[Typora编辑器](https://typora.io/)一起食用



# 改造

## 访客数



## valine





## 美化











# 部署



## gitbook官网部署





## github pages





## gitee pages





